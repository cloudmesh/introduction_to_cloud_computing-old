

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Cloudmesh MOOC Shell &mdash; my Cloudmesh Learning documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../about.html"/>
    <link rel="top" title="my Cloudmesh Learning documentation" href="../index.html"/>
        <link rel="up" title="Cloudmesh in Classes" href="index.html"/>
        <link rel="next" title="JavaFiles" href="javafiles.html"/>
        <link rel="prev" title="IU Fall 2014 (Info I590)" href="i590.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../index.html" class="fa fa-home"> my Cloudmesh</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../preface.html">Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#conventions">Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../preface.html#using-the-notebooks">Using the Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about.html#independent-study-at-iu">Independent Study at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#student-employment-at-iu">Student Employment at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about.html#contributing-to-the-manual">Contributing to the Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contact.html">Contact</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contact.html#contributors">Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../contact.html#support">Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources from the Internet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Cloudmesh in Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="lessons.html">Lessons</a></li>
<li class="toctree-l2"><a class="reference internal" href="vc2_sp15/index.html">IU Spring 2015: Section II Practical Use of Big Data Software on OpenStack</a></li>
<li class="toctree-l2"><a class="reference internal" href="vc_sp15/index.html">IU Spring 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="i590.html">IU Fall 2014 (Info I590)</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Cloudmesh MOOC Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="javafiles.html">JavaFiles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../accounts/index.html">Cloud Accounts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../accounts/accounts.html">Creating FutureSystems Accounts and Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../accounts/details.html">Account and Project Management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cloudmesh/index.html">Cloudmesh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/overview.html">Cloudmesh Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/setup/index.html">Cloudmesh Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/cm/index.html">Cloudmesh cm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/api/index.html">Cloudmesh API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/shell/index.html">Cloudmesh Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/gui/index.html">Cloudmesh GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cloudmesh/faq.html">Cloudmesh FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../parallel.html">Parallel Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../parallel.html#parallel-distributed-shell-pdsh">Parallel Distributed Shell (pdsh)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallel.html#fabric">Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallel.html#cloudmesh-parallel-api">Cloudmesh Parallel API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../parallel.html#exercises">Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../iaas/index.html">IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../iaas/index.html#openstack-clouds">OpenStack Clouds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../paas/index.html">PaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../paas/hadoop.html">Using Hadoop in FutureSystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../paas/hadoop-setup.html">Deploying a Hadoop Cluster on India OpenStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hpc/index.html">HPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hpc/hpc.html">HPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../hardware/index.html">Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../hardware/indiana.html">Hardware at Indiana University</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../devops/index.html">DevOps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../devops/history.html">Historical and Functionality Perspective</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/makefile.html">Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/shell.html">Shell Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/configure.html">Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../devops/rpm.html">Package Managers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../ipython/index.html">IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../ipython/_ipython.html">IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../rst.html">reStructuredText</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#sections">Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#listtable">Listtable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#exceltable">Exceltable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#boxes">Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#sidebar-directive">Sidebar directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#autorun">Autorun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#hyperlinks">Hyperlinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rst.html#todo">Todo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../management/index.html">Create Cloudmesh Development Image</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../management/create_image.html">How to setup a Cloudmesh Image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute to Cloudmesh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contribute/python-programming-style.html">How to write good Python codes for Cloudmesh</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../todo.html">ToDos</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">my Cloudmesh</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="index.html">Cloudmesh in Classes</a> &raquo;</li>
      
    <li>Cloudmesh MOOC Shell</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../_sources/class/cm-mooc.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="cloudmesh-mooc-shell">
<h1>Cloudmesh MOOC Shell<a class="headerlink" href="#cloudmesh-mooc-shell" title="Permalink to this headline">¶</a></h1>
<p><cite>cm-mooc</cite> provides an easy way to start a Cloudmesh VM on OpenStack India.
You can start a virtual machine for Cloudmesh with a single command in <cite>cm-mooc</cite>.
You can also enable IPython Notebook on the virtual machine with <cite>cm notebook</cite>
commands.  You may read the following instructions to enable this program on
your terminal.</p>
<p>Tutorial Video Clip: <a class="reference external" href="http://youtu.be/kFWGPqHrBCA">http://youtu.be/kFWGPqHrBCA</a></p>
<div class="section" id="create-a-futuresystems-account">
<h2>Create a FutureSystems Account<a class="headerlink" href="#create-a-futuresystems-account" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>First you need to have an account on the FutureSystems portal at</p>
<ul class="simple">
<li><a class="reference external" href="http://portal.futuregrid.org">http://portal.futuregrid.org</a></li>
</ul>
<p>We have discussed this in a previous session and you can find out more
information in Sthe Section <a class="reference internal" href="../accounts/details.html#s-accounts"><em>Account and Project Management</em></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>FutureSystems Portalname and Project ID
For this example we assume you have set the shell variable
PORTALNAME to your FutureSystems portal username. This can
be done as follwows. Let us assume your portal name is
<cite>albert</cite>. Than you can set it with:</p>
<div class="last highlight-python"><div class="highlight"><pre>export PORTALNAME=albert
</pre></div>
</div>
</div>
<p>Next you need to login to the india login node
with:</p>
<div class="highlight-python"><div class="highlight"><pre>localhost$ ssh $PORTALNAME@india.futuregrid.org
</pre></div>
</div>
<p>If you need more information about  ssh  see <a class="reference internal" href="../accounts/ssh.html#s-using-ssh"><em>Using SSH Keys</em></a>.</p>
<p>After you log into india you must activate openstack with the
following command:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ module load fg455
</pre></div>
</div>
<p>This setp has to be executed every time yo log into india.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can also place the lines into your ~/.bash_profile in
case you do not want to add the lines by hand every time.</p>
</div>
</div>
<div class="section" id="managing-you-key-on-india">
<h2>Managing you Key on india<a class="headerlink" href="#managing-you-key-on-india" title="Permalink to this headline">¶</a></h2>
<p>If you have not registered your ssh key to the cloud, you will need to
generate one</p>
<div class="highlight-python"><div class="highlight"><pre>india$ ssh-keygen -t rsa -C $USER-india-key
</pre></div>
</div>
<p>This will generate a key in the default location. You must also
specify a passphrase for the key to make the use more secure. Thus you
will have a key in <cite>~/.ssh/id_rsa.pub</cite>. This key can now be added to
the cloud:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ nova keypair-add --pub-key ~/.ssh/id_rsa.pub $USER-india-key
</pre></div>
</div>
<p>In case you want to use some more advanced features of cloudmesh you
may also want to upload the public key to the FutureSystems portal.</p>
</div>
<div class="section" id="initializing-cm-mooc">
<h2>Initializing <cite>cm-mooc</cite><a class="headerlink" href="#initializing-cm-mooc" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Do not forget to activate openstack if you have logied in
new to india:</p>
<div class="last highlight-python"><div class="highlight"><pre>india$ module load fg455
</pre></div>
</div>
</div>
<p>First we initialize <cite>cm-mooc</cite> and open up some ports as part of the
openstack default security group. Cloudmesh, IPython Notebook requires
to use 5000, 8888 port numbers. We need to add rules for these port
numbers.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you already have <cite>cloudmesh</cite> in your security group, you
can skip this step.</p>
</div>
<div class="highlight-python"><div class="highlight"><pre>india$ source ~/.futuregrid/openstack_havana/novarc
india$ nova secgroup-create cloudmesh &quot;cloudmesh ports 5000, 8888&quot;
india$ nova secgroup-add-rule cloudmesh tcp 8888 8888 0.0.0.0/0
india$ nova secgroup-add-rule cloudmesh tcp 5000 5000 0.0.0.0/0
india$ nova secgroup-list-rules cloudmesh
</pre></div>
</div>
<p>Next you simply  execute the following commands:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc start
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Please wait approximately 5 minutes after this command.
when you log into early the next command will fail.</p>
</div>
</div>
<div class="section" id="list-the-vm-information">
<h2>List the VM Information<a class="headerlink" href="#list-the-vm-information" title="Permalink to this headline">¶</a></h2>
<p>You can check the status of the VM by the following command:</p>
<div class="highlight-python"><div class="highlight"><pre>cm-mooc list
</pre></div>
</div>
<p>The status may report to you active, but that does not mean that all
the software is installed yet. So please be patient and wait for some minutes.</p>
</div>
<div class="section" id="loggin-in-to-the-vm">
<h2>Loggin in to the VM<a class="headerlink" href="#loggin-in-to-the-vm" title="Permalink to this headline">¶</a></h2>
<p>After you have waited for 5 minutes you can execute:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc login       # SSH to VM
</pre></div>
</div>
<p>This command will start a virtual machine for you that has the
software for the class installed. Now that you are logged into the VM
you will need to start the ipython notebook server. This is done with
the command:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ cm notebook create # provide your password to IPython Notebook on the
</pre></div>
</div>
<p>This command will need some input from you and asks you to setup your
ipython notebook password as well as information for a self signed certificate</p>
<p>After this step is completed you can exit the virtual machine with the
command:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ exit
</pre></div>
</div>
<p>Now that you are back on india, you can simply start the notebook with:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc notebook start
</pre></div>
</div>
<p>This will start the notebook server on your vm while using your
password and the certificate you created.</p>
</div>
<div class="section" id="accessing-the-notebook">
<h2>Accessing the notebook<a class="headerlink" href="#accessing-the-notebook" title="Permalink to this headline">¶</a></h2>
<p>Now you can access the IPython Notebook via a web browser is
simple. Just type in the following into your browser url:</p>
<div class="highlight-python"><div class="highlight"><pre>https://[ip address]:8888
</pre></div>
</div>
<p>If you forgot the ip address you can use the command:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc info
</pre></div>
</div>
</div>
<div class="section" id="using-the-class-materials">
<h2>Using the class materials<a class="headerlink" href="#using-the-class-materials" title="Permalink to this headline">¶</a></h2>
<p>JavaFiles, please see <a class="reference external" href="/introduction_to_cloud_computing/class/javafiles.html">the tutorial</a>.
You can find the class materials in the following directories.
Upon your choice of programming language, you can try python or
Java examples:</p>
<ul class="simple">
<li><strong>IPythonFiles</strong>: directory containing IPython Notebooks for the class fg455</li>
<li><strong>JavaFiles</strong>: directory containing cloudmesh Java code</li>
<li><strong>cloudmesh</strong>: directory containing cloudmesh IPython Notebooks</li>
</ul>
<p>The source for these directories is maintained at</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/cglmoocs/IPythonFiles">https://github.com/cglmoocs/IPythonFiles</a></li>
<li><a class="reference external" href="https://github.com/cglmoocs/JavaFiles">https://github.com/cglmoocs/JavaFiles</a></li>
<li><a class="reference external" href="https://github.com/cloudmesh/introduction_to_cloud_computing">https://github.com/cloudmesh/introduction_to_cloud_computing</a></li>
</ul>
<p>The directory:</p>
<div class="highlight-python"><div class="highlight"><pre>/home/ubuntu/JavaFiles
</pre></div>
</div>
<p>has the course programs in Java.  To view the IPython Notebook
programs navigate to the directory with:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ cd /home/ubuntu/IPythonFiles
</pre></div>
</div>
<p>Below are the steps to execute the java programs on ~/JavaFiles:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ javac -classpath &lt;path to the jar file directory&gt; &lt;ClassName&gt;.java
vm$ java  -classpath &lt;path to the jar file directory&gt; &lt;ClassName&gt;
</pre></div>
</div>
<p>A sample Make file is included in the directory:</p>
<div class="highlight-python"><div class="highlight"><pre>~/JavaFiles/Section-4_Physics-Units-9-10-11/Unit-11_A-Calculated-Dice-Roll/Makefile
</pre></div>
</div>
<p>For dependencies, please try set your CLASSPATH on ~/Dependencies:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ export CLASSPATH=~/Dependencies:$CLASSPATH
</pre></div>
</div>
<p>Similarly for python navigate to home/ubuntu/IPythonFiles directory first cd into the directory:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ cd /home/ubuntu/IPythonFiles
</pre></div>
</div>
<p>and than execute the desired program with:</p>
<div class="highlight-python"><div class="highlight"><pre>vm$ python  &lt;FileName&gt;.py
</pre></div>
</div>
</div>
<div class="section" id="help">
<h2>Help<a class="headerlink" href="#help" title="Permalink to this headline">¶</a></h2>
<p>You can see available commands to <cite>cm-mooc</cite> program:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc -h
</pre></div>
</div>
</div>
<div class="section" id="deleting-the-vm">
<h2>Deleting the VM<a class="headerlink" href="#deleting-the-vm" title="Permalink to this headline">¶</a></h2>
<p>In case you do not need the VM anymore, you can delete the VM with:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc delete
</pre></div>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">This is a real delete of your VM with all its contents
and data. You want to think twice about if you like to
execute the command.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Try Cloudmesh Web Site at <a class="reference external" href="http://[ip">http://[ip</a> address]:5000 Your
default password is: <em>cloudmesh</em> To change the password, try the
following commands:</p>
</div>
</div>
<div class="section" id="optional-starting-the-cloudmesh-server">
<h2>Optional: Starting the cloudmesh server<a class="headerlink" href="#optional-starting-the-cloudmesh-server" title="Permalink to this headline">¶</a></h2>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">If you are not needing the cloudmash server (e.g. you are
part of the FG452 project) this part is not needed. You will
only use the ipython notebook server</p>
</div>
<p>If you laos like to try the cloudmesh server you can srat it on
the VM. First make sure you are logged into the vm:</p>
<div class="highlight-python"><div class="highlight"><pre>india$ cm-mooc login

vm$ cd ~/cloudmesh
vm$ fab user.mongo # set your password
vm$ fab server.start # restart the Cloudmesh server
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="javafiles.html" class="btn btn-neutral float-right" title="JavaFiles"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="i590.html" class="btn btn-neutral" title="IU Fall 2014 (Info I590)"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, myCloudmesh.org/learning.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'Learning',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>