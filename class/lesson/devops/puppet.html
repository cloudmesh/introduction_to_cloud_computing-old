

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Puppet &mdash; my Cloudmesh Learning documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../../_static/css/my_theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../../../about.html"/>
    <link rel="top" title="my Cloudmesh Learning documentation" href="../../../index.html"/>
        <link rel="up" title="Spring 2015 - Big Data Open Source Software Project (BUEX-V 594)" href="../../bdossp_sp15/index.html"/>
        <link rel="next" title="Chef" href="chef.html"/>
        <link rel="prev" title="SaltStack (under preparation)" href="saltstack.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../../../index.html" class="icon icon-home"> my Cloudmesh
        

        
          
          <img src="../../../_static/cm-logo-24.png" class="logo" />
        
        </a>

        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../preface.html">Preface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contact.html">Contact</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../resources.html">Resources from the Internet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Cloudmesh in Classes</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../bdossp_sp15/index.html"> Spring 2015 - Big Data Open Source Software Project (BUEX-V 594)</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#contact">Contact</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#weekly-plan">Weekly Plan</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#support">Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#office-hours">Office Hours</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#collaboration-tools">Collaboration Tools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#futuresystems-access">FutureSystems Access</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#linux-basics">Linux Basics</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#basics-of-openstack">Basics of OpenStack</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#basics-of-cloudmesh">Basics of Cloudmesh</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#advanced-cloudmesh">Advanced Cloudmesh</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../bdossp_sp15/index.html#it-operations-automation-and-orchestration">IT Operations - Automation and Orchestration</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#virtual-clusters">Virtual Clusters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#other-technologies">Other Technologies</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#future">Future</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../bdossp_sp15/index.html#to-be-organized-into-the-above">To be Organized into the above</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../vc_sp15/index.html">Spring 2015 - Big Data Applications to Clouds and HPC</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../i590.html">Fall 2014 - Big Data Applications and Analytics (<tt class="docutils literal"><span class="pre">Info</span> <span class="pre">I590</span></tt>)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cm-mooc/index.html">VM for Big Data Applications and Analytics</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lessons.html">Lessons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../accounts/index.html">Cloud Accounts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cloudmesh/index.html">Cloudmesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../parallel.html">Parallel Shell</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../iaas/index.html">IaaS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../paas/index.html">PaaS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hpc/index.html">HPC</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../hardware/index.html">Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../devops/index.html">DevOps</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ipython/index.html">IPython</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rst.html">reStructuredText</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../management/index.html">Create Cloudmesh Development Image</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../contribute/index.html">Contribute to Cloudmesh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../todo.html">ToDos</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../../index.html">my Cloudmesh</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../index.html">Cloudmesh in Classes</a> &raquo;</li>
      
          <li><a href="../../bdossp_sp15/index.html"> Spring 2015 - Big Data Open Source Software Project (BUEX-V 594)</a> &raquo;</li>
      
    <li>Puppet</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../../_sources/class/lesson/devops/puppet.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="puppet">
<span id="ref-class-lesson-devops-puppet"></span><h1>Puppet<a class="headerlink" href="#puppet" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This lesson will introduce you to a very important topic to Puppet, an open
source configuration management tool.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Duration: 1 hour</p>
</div>
</div>
<div class="section" id="prerequisite">
<h2>Prerequisite<a class="headerlink" href="#prerequisite" title="Permalink to this headline">¶</a></h2>
<p>In order to conduct this lesson you should have knowledge of</p>
<ul class="simple">
<li><a class="reference external" href="../iaas/openstack.html">OpenStack for Beginners</a></li>
</ul>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Puppet is an open source configuration management software to configure systems
declaratively. If you describe system resources and configurations using
Puppet&#8217;s declarative language (combination of JSON and Ruby) or Ruby DSL
(Domain Specific Language), Puppet discovers servers (nodes) and applies the
instructions that you described to the target machines. Puppet manages
configurations and installations with a client-server model like Chef.  You
need to use command line tools or web interfaces to communicate with a Puppet
server. There are many similar features and functionalities between Chef and
Puppet. Try to compare these two tools when you use their commands tools or
write the scripts. Chef calls the script as a <tt class="docutils literal"><span class="pre">Recipe</span></tt>, and Puppet calls it
as a <tt class="docutils literal"><span class="pre">manifest</span></tt>.</p>
<div class="section" id="open-source-puppet">
<h3>Open Source Puppet<a class="headerlink" href="#open-source-puppet" title="Permalink to this headline">¶</a></h3>
<p>Puppet Labs supports Puppet software in two different versions. This lesson
uses an open source Puppet instead of Puppet Enterprise which is a commercial
version of Puppet. A few features are only available in the Enterprise version
but the core parts of Puppet are identical in both.</p>
</div>
</div>
<div class="section" id="installation-puppet">
<h2>Installation Puppet<a class="headerlink" href="#installation-puppet" title="Permalink to this headline">¶</a></h2>
<p>This lesson is based on FutureSystems which means you create a VM instance on
India OpenStack and install Puppet on top of it. If you prefer to use other
virtual environments, we recommend to use Vagrant and VirtualBox.</p>
<p>We assume you use a OpenStack instance on FutureSystems.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If don&#8217;t know how to launch a new instance? <a class="reference external" href="../iaas/openstack.html#launching-a-new-instance">See here</a></p>
</div>
<div class="section" id="guideline-on-india-futuresystems">
<h3>Guideline on India FutureSystems<a class="headerlink" href="#guideline-on-india-futuresystems" title="Permalink to this headline">¶</a></h3>
<p>You <em>DON&#8217;T</em> install Puppet on India. If you see the cursor like:</p>
<div class="highlight-python"><div class="highlight"><pre>[albert@i136 ~]$
</pre></div>
</div>
<p>You <em>should NOT</em> install any program.</p>
<p>You have to log into <em>your VM instance</em> to install Puppet. <tt class="docutils literal"><span class="pre">i136</span></tt> is a India
login node which is like a gateway.  You are supposed not to perform any tasks
on India, especially if you require <tt class="docutils literal"><span class="pre">root</span></tt> privileges. Please create a VM
instance on India OpenStack and SSH into your VM to run and install your
software. You will have a full access of your virtual machine instance.</p>
<div class="section" id="quick-instructions">
<h4>Quick instructions<a class="headerlink" href="#quick-instructions" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first">Launch a VM instance is:</p>
<div class="highlight-python"><div class="highlight"><pre>nova boot --flavor m1.small --image futuresystems/ubuntu-14.04 --key_name $USER-key $USER-puppet
</pre></div>
</div>
</li>
<li><p class="first">Once your VM instance is ready, try to login using SSH:</p>
<div class="highlight-python"><div class="highlight"><pre>ssh ubuntu@[IP ADDRESS]
</pre></div>
</div>
</li>
</ul>
</div>
</div>
<div class="section" id="puppet-on-ubuntu-14-04-standalone-mode">
<h3>Puppet on Ubuntu 14.04 (Standalone Mode)<a class="headerlink" href="#puppet-on-ubuntu-14-04-standalone-mode" title="Permalink to this headline">¶</a></h3>
<p>Use a VM instance with a Ubuntu 14.04 image. The installation commands are:</p>
<div class="highlight-python"><div class="highlight"><pre>wget https://apt.puppetlabs.com/puppetlabs-release-trusty.deb
sudo dpkg -i puppetlabs-release-trusty.deb
sudo apt-get update
sudo apt-get install puppet
</pre></div>
</div>
<p>Check your installation:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">puppet</span> <span class="o">--</span><span class="n">version</span>
</pre></div>
</div>
<p>You expect to see 3.7.5 or higher version, otherwise your installation is incomplete.</p>
</div>
<div class="section" id="root-access">
<h3><tt class="docutils literal"><span class="pre">root</span></tt> Access<a class="headerlink" href="#root-access" title="Permalink to this headline">¶</a></h3>
<p>We will install Puppet and other software using <tt class="docutils literal"><span class="pre">root</span></tt> account. Using <tt class="docutils literal"><span class="pre">root</span></tt>
account means that you have a permission to use entire system resources without
any restriction. Since this lesson includes a couple of examples using Puppet, we
strongly recommend to use OpenStack VM instance on FutureSystems. DON&#8217;T try to
install Puppet on your local machine or on the <tt class="docutils literal"><span class="pre">india.futuresystems.org</span></tt> host.
Use a benefit of VM instance which you can easily delete and re-create a new
one.</p>
<p>On a VM instance, simply run a switch user command:</p>
<div class="highlight-python"><div class="highlight"><pre>ubuntu@puppet:~$ sudo su -
</pre></div>
</div>
<p>If you see <tt class="docutils literal"><span class="pre">root</span></tt> label, you are in <tt class="docutils literal"><span class="pre">root</span></tt> account on your machine:</p>
<div class="highlight-python"><div class="highlight"><pre>root@puppet:~#
</pre></div>
</div>
</div>
<div class="section" id="update-hostname">
<h3>Update Hostname<a class="headerlink" href="#update-hostname" title="Permalink to this headline">¶</a></h3>
<p>If you see <tt class="docutils literal"><span class="pre">sudo:</span> <span class="pre">unable</span> <span class="pre">to</span> <span class="pre">resolve</span> <span class="pre">host</span></tt>, try to add hostname with the
following command:</p>
<div class="highlight-python"><div class="highlight"><pre>echo -e &quot;\n127.0.1.1 $HOSTNAME&quot; &gt;&gt; /etc/hosts
</pre></div>
</div>
</div>
</div>
<div class="section" id="a-puppet-template-manifest-pp">
<h2>A Puppet Template - manifest (.pp)<a class="headerlink" href="#a-puppet-template-manifest-pp" title="Permalink to this headline">¶</a></h2>
<p>You define system resources that you use in a puppet template, a manifest. It
uses Puppet Domain Specific Language (DSL) which is a combination of JSON and
Ruby. you describes resources such as file, package, or service to apply your
instructions to target systems (nodes).</p>
<div class="section" id="puppet-directory">
<h3>Puppet Directory<a class="headerlink" href="#puppet-directory" title="Permalink to this headline">¶</a></h3>
<p>You Puppet is ready to use on you VM instance. Let&#8217;s create a Puppet
configuration file.  The installation process have created a Puppet directory
under <tt class="docutils literal"><span class="pre">/etc/</span></tt>. (If it hasn&#8217;t, create it with <tt class="docutils literal"><span class="pre">mkdir</span> <span class="pre">/etc/puppet</span></tt>).</p>
<dl class="docutils">
<dt>::</dt>
<dd>cd /etc/puppet/;
ls</dd>
</dl>
<p>You see files and directories like so:</p>
<div class="highlight-python"><div class="highlight"><pre>environments  manifests  modules  puppet.conf  templates
</pre></div>
</div>
<p>We&#8217;re going to use <tt class="docutils literal"><span class="pre">manifests</span></tt> directory to create a Puppet configuration file.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you don&#8217;t have one, run: <tt class="docutils literal"><span class="pre">mkdir</span> <span class="pre">/etc/puppet/manifests</span></tt></p>
</div>
</div>
<div class="section" id="warning-setting-templatedir-is-deprecated">
<h3>Warning: Setting templatedir is deprecated.<a class="headerlink" href="#warning-setting-templatedir-is-deprecated" title="Permalink to this headline">¶</a></h3>
<p>If you encounter this warning message, you need to update your Puppet
configuration file. Please update the following file using your editor, vi or
nano:</p>
<div class="highlight-python"><div class="highlight"><pre>/etc/puppet/puppet.conf
</pre></div>
</div>
<p>The file contains:</p>
<div class="highlight-python"><div class="highlight"><pre>[main]
logdir=/var/log/puppet
vardir=/var/lib/puppet
ssldir=/var/lib/puppet/ssl
rundir=/var/run/puppet
factpath=$vardir/lib/facter
templatedir=$confdir/templates

..
</pre></div>
</div>
<p>You need to <strong>REMOVE</strong> the <tt class="docutils literal"><span class="pre">templatedir=</span></tt> line, then you won&#8217;t see the
warning message again.</p>
<p>References of this issue are here:
<a class="reference external" href="https://tickets.puppetlabs.com/browse/PUP-2566">https://tickets.puppetlabs.com/browse/PUP-2566</a>,
<a class="reference external" href="https://docs.puppetlabs.com/puppet/3.7/reference/deprecated_settings.html#templatedir">https://docs.puppetlabs.com/puppet/3.7/reference/deprecated_settings.html#templatedir</a></p>
</div>
<div class="section" id="first-manifest-creating-a-file">
<h3>First <tt class="docutils literal"><span class="pre">manifest</span></tt> - &#8220;Creating a file&#8221;<a class="headerlink" href="#first-manifest-creating-a-file" title="Permalink to this headline">¶</a></h3>
<p>We are going to write a first Puppet manifest to create a single text file.</p>
<p>Move to <tt class="docutils literal"><span class="pre">manifests</span></tt> directory. We will create a new file in the directory.</p>
<div class="highlight-python"><div class="highlight"><pre>cd /etc/puppet/manifests/
</pre></div>
</div>
<p>Open a new file <tt class="docutils literal"><span class="pre">first-manifest.pp</span></tt> with your editori, vi or nano.</p>
<div class="highlight-python"><div class="highlight"><pre>file { &quot;HelloWorld&quot;:
    path =&gt; &quot;/tmp/HelloWorld.txt&quot;,
    ensure =&gt; &quot;file&quot;,
    owner  =&gt; &quot;root&quot;,
    group  =&gt; &quot;root&quot;,
    mode   =&gt; &quot;700&quot;,
    content =&gt; &quot;Hello World!
    The new file has been created by Puppet!&quot;,}
</pre></div>
</div>
<p>Check you have created the first Puppet <tt class="docutils literal"><span class="pre">manifest</span></tt> file.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cat</span> <span class="o">/</span><span class="n">etc</span><span class="o">/</span><span class="n">puppet</span><span class="o">/</span><span class="n">manifests</span><span class="o">/</span><span class="n">first</span><span class="o">-</span><span class="n">manifest</span><span class="o">.</span><span class="n">pp</span>
</pre></div>
</div>
<p>If you see same contents that you wrote, you are ready to apply your code to
Puppet. We provided an instruction to create a particular file named
&#8220;/tmp/HelloWorld.txt&#8221;. <tt class="docutils literal"><span class="pre">ensure</span> <span class="pre">=&gt;</span> <span class="pre">&quot;file&quot;</span></tt> means that Puppet need to confirm
that there is a file with the path, owner, group and mode.</p>
<p>This Puppet manifest does not only create a file but also check the options
that we specified.  If there is changes in the file, Puppet inspects and get it
right. For example, if the file name is changed, Puppet rename it to the
original one <tt class="docutils literal"><span class="pre">HelloWorld.txt</span></tt>. If it does not exist, Puppet will create the
file.  Puppet will correct the changes based on the instructions in the manifest
file. You can run Puppet again and again to ensure that your instructions in the
manifest file is valid.  Puppet will check and compare the state.</p>
</div>
<div class="section" id="puppet-apply-command">
<h3><tt class="docutils literal"><span class="pre">puppet</span> <span class="pre">apply</span></tt> Command<a class="headerlink" href="#puppet-apply-command" title="Permalink to this headline">¶</a></h3>
<p>This command simply executes your instructions in a <tt class="docutils literal"><span class="pre">manifest</span> <span class="pre">(.pp)</span></tt> file.</p>
<div class="highlight-python"><div class="highlight"><pre>puppet apply /etc/puppet/manifests/first-manifest.pp
</pre></div>
</div>
<p>You may see:</p>
<div class="highlight-python"><div class="highlight"><pre>Notice: Compiled catalog for puppet.openstacklocal in environment production in 0.06 seconds
Notice: /Stage[main]/Main/File[first-manifest]/ensure: defined content as &#39;{md5}1a81759353d36dbd31059fc261af0aa2&#39;
Notice: Finished catalog run in 0.06 seconds
</pre></div>
</div>
<p>It&#8217;s quite simple, isn&#8217;t it? Let&#8217;s check out whether the file is created.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ls</span> <span class="o">-</span><span class="n">al</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">HelloWorld</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>You see similar like so:</p>
<div class="highlight-python"><div class="highlight"><pre>-rwx------ 1 root root 16 Apr  5 04:19 /tmp/HelloWorld.txt
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">-rwx------</span></tt> satisfies <tt class="docutils literal"><span class="pre">mode</span> <span class="pre">=&gt;</span> <span class="pre">&quot;700&quot;</span></tt> and <tt class="docutils literal"><span class="pre">root</span> <span class="pre">root</span></tt> is identical with
<tt class="docutils literal"><span class="pre">owner</span> <span class="pre">=&gt;</span> <span class="pre">&quot;root&quot;</span></tt> and <tt class="docutils literal"><span class="pre">group</span> <span class="pre">=&gt;</span> <span class="pre">&quot;root&quot;</span></tt>.</p>
<p>Let&#8217;s check the content:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">cat</span> <span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">HelloWorld</span><span class="o">.</span><span class="n">txt</span>
</pre></div>
</div>
<p>You see:</p>
<div class="highlight-python"><div class="highlight"><pre>Hello World!
The new file has been created by Puppet!
</pre></div>
</div>
<p>Congraturations!
You have installed and tested Puppet with your first
<tt class="docutils literal"><span class="pre">manifest</span></tt> to create and manage a file.  In this tutorial, we used <tt class="docutils literal"><span class="pre">file</span></tt>
Puppet type, there are many types are available including <tt class="docutils literal"><span class="pre">package</span></tt> and
<tt class="docutils literal"><span class="pre">service</span></tt> Please find more information here:
<a class="reference external" href="https://docs.puppetlabs.com/references/latest/type.html">https://docs.puppetlabs.com/references/latest/type.html</a></p>
</div>
</div>
<div class="section" id="exercises">
<span id="ref-class-lesson-devops-puppet-exercises"></span><h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<div class="section" id="exercise-i">
<h3>Exercise I<a class="headerlink" href="#exercise-i" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Start to record outputs in your shell by <tt class="docutils literal"><span class="pre">script</span> <span class="pre">&lt;USER&gt;-puppet-ex1.txt</span></tt>
command.  Replace <tt class="docutils literal"><span class="pre">&lt;USER&gt;</span></tt> with your real username e.g. <tt class="docutils literal"><span class="pre">albert</span></tt>.</li>
<li>Run the following commands::
cat /etc/puppet/manifests/first-manifest.pp
puppet apply /etc/puppet/manifests/first-manifest.pp
ls -al /tmp/HelloWorld.txt
cat /tmp/HelloWorld.txt</li>
<li>Exit the recording with <tt class="docutils literal"><span class="pre">exit</span></tt> command or <tt class="docutils literal"><span class="pre">^D</span></tt>.
(^D is Control-D)</li>
<li>Submit your <tt class="docutils literal"><span class="pre">&lt;USER&gt;-puppet-ex1.txt</span></tt> file.</li>
</ul>
</div>
<div class="section" id="exercise-ii">
<h3>Exercise II<a class="headerlink" href="#exercise-ii" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Explain the following manifest:</p>
<div class="highlight-python"><div class="highlight"><pre>package { &#39;apache&#39;:
  ensure =&gt; present,
  name   =&gt; $::operatingsystem ? {
    /(?i:Ubuntu|Debian|Mint)/ =&gt; &#39;apache2&#39;,
    default                   =&gt; &#39;httpd&#39;,
  }
}
service { &#39;apache2&#39;:
  ensure =&gt; running,
  enable =&gt; true,
}
</pre></div>
</div>
</li>
<li><p class="first">Q1. If we run this on Ubuntu 14.04, we will see <tt class="docutils literal"><span class="pre">apache2</span></tt> process. If you
run this on CentOS, what name of the process do you expect?</p>
</li>
<li><p class="first">Q2. There are two Puppet types used in this manifest. Describe what
<tt class="docutils literal"><span class="pre">package</span></tt> and <tt class="docutils literal"><span class="pre">service</span></tt> do.</p>
</li>
<li><p class="first">Submit your answer with <tt class="docutils literal"><span class="pre">&lt;USER&gt;-puppet-ex2.txt</span></tt> file.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="next-step">
<h2>Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>In the next page, Chef will be introduced.</p>
<p><a class="reference internal" href="chef.html#ref-class-lesson-devops-chef"><em>Chef</em></a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="chef.html" class="btn btn-neutral float-right" title="Chef"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="saltstack.html" class="btn btn-neutral" title="SaltStack (under preparation)"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, myCloudmesh.org/learning.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../',
            VERSION:'Learning',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>