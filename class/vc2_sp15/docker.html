

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>5.4.5. Try Docker Basic on FutureSystems &mdash; my Cloudmesh Learning documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../../about.html"/>
    <link rel="top" title="my Cloudmesh Learning documentation" href="../../index.html"/>
        <link rel="up" title="5.4. BigData Virtual Cluster (Spring 2015)" href="index.html"/>
        <link rel="next" title="5.4.6. Deploying Cloudmesh using Docker on FutureSystems" href="docker_cloudmesh.html"/>
        <link rel="prev" title="5.4.4. Writing Ansible Playbook for Cloudmesh on FutureSystems" href="ansible_cloudmesh.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> my Cloudmesh</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface.html">1. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preface.html#conventions">1.1. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preface.html#using-the-notebooks">1.2. Using the Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">2. About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#independent-study-at-iu">2.1. Independent Study at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#student-employment-at-iu">2.2. Student Employment at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#contributing-to-the-manual">2.3. Contributing to the Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">3. Contact</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contact.html#contributors">3.1. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contact.html#support">3.2. Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">4. Resources from the Internet</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">5. Cloudmesh in Classes</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../i590.html">5.1. Class: Info I590</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cm-mooc.html">5.2. Cloudmesh MOOC Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javafiles.html">5.3. JavaFiles</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">5.4. BigData Virtual Cluster (Spring 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vc_sp15/index.html">5.5. IU Spring 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lessons.html">5.6. Lessons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../accounts/index.html">6. Cloud Accounts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../accounts/accounts.html">6.1. Creating FutureSystems Accounts and Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accounts/details.html">6.2. Account and Project Management</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../cloudmesh/index.html">7. Cloudmesh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/overview.html">7.1. Cloudmesh Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/setup/index.html">7.2. Cloudmesh Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/cm/index.html">7.3. Cloudmesh cm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/api/index.html">7.4. Cloudmesh API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/shell/index.html">7.5. Cloudmesh Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/gui/index.html">7.6. Cloudmesh GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cloudmesh/faq.html">7.7. Cloudmesh FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../parallel.html">8. Parallel Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#parallel-distributed-shell-pdsh">8.1. Parallel Distributed Shell (pdsh)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#fabric">8.2. Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#cloudmesh-parallel-api">8.3. Cloudmesh Parallel API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#exercises">8.4. Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../iaas/index.html">9. IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../iaas/index.html#openstack-clouds">9.1. OpenStack Clouds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../paas/index.html">10. PaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../paas/hadoop.html">10.1. Using Hadoop in FutureSystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../paas/hadoop-setup.html">10.2. Deploying a Hadoop Cluster on India OpenStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc/index.html">11. HPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hpc/hpc.html">11.1. HPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/index.html">12. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/indiana.html">12.1. Hardware at Indiana University</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html">13. DevOps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../devops/history.html">13.1. Historical and Functionality Perspective</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/makefile.html">13.2. Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/shell.html">13.3. Shell Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/configure.html">13.4. Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/rpm.html">13.5. Package Managers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ipython/index.html">14. IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ipython/_ipython.html">14.1. IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rst.html">15. reStructuredText</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#sections">15.1. Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#listtable">15.2. Listtable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#exceltable">15.3. Exceltable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#boxes">15.4. Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#sidebar-directive">15.5. Sidebar directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#autorun">15.6. Autorun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#hyperlinks">15.7. Hyperlinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#todo">15.8. Todo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../management/index.html">16. Create Cloudmesh Development Image</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../management/create_image.html">16.1. How to setup a Cloudmesh Image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">17. Contribute to Cloudmesh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/python-programming-style.html">17.1. How to write good Python codes for Cloudmesh</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">18. ToDos</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">my Cloudmesh</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">5. Cloudmesh in Classes</a> &raquo;</li>
      
          <li><a href="index.html">5.4. BigData Virtual Cluster (Spring 2015)</a> &raquo;</li>
      
    <li>5.4.5. Try Docker Basic on FutureSystems</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/class/vc2_sp15/docker.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="try-docker-basic-on-futuresystems">
<h1>5.4.5. Try Docker Basic on FutureSystems<a class="headerlink" href="#try-docker-basic-on-futuresystems" title="Permalink to this headline">¶</a></h1>
<p>Docker is an image-based resource isolation software by using operating system
level virtualization.  Docker host runs software containers which deploy
applications with its environments. You can easily share your application using
Docker container across different platforms or operating systems.  This
section, we introduce basic commands of <tt class="docutils literal"><span class="pre">docker</span></tt> to introduce Docker software
on FutureSystems.  In the next section, we will explore advanced use of
<tt class="docutils literal"><span class="pre">docker</span></tt> on FutureSystems.</p>
<div class="section" id="tutorial-docker-basic-commands">
<h2>5.4.5.1. Tutorial: Docker Basic commands<a class="headerlink" href="#tutorial-docker-basic-commands" title="Permalink to this headline">¶</a></h2>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">approximate time 30 minutes</p>
</div>
<p>In this tutorial, we are going to learn basic commands of Docker software.
Keep in mind that <tt class="docutils literal"><span class="pre">docker</span></tt> is a main program and <tt class="docutils literal"><span class="pre">container</span></tt> is an image
that you would like to use. You may have several containers in your docker.</p>
<div class="section" id="install-docker">
<h3>5.4.5.1.1. Install Docker<a class="headerlink" href="#install-docker" title="Permalink to this headline">¶</a></h3>
<p>We use Ubuntu package tool <cite>apt-get</cite> to download and install Docker.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo apt-get update
sudo apt-get install docker.io
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">To get the latest version, try this:
curl -sSL <a class="reference external" href="https://get.docker.com/ubuntu/">https://get.docker.com/ubuntu/</a> | sudo sh</p>
</div>
</div>
<div class="section" id="test-docker">
<h3>5.4.5.1.2. Test Docker<a class="headerlink" href="#test-docker" title="Permalink to this headline">¶</a></h3>
<p>Run a simple command &#8220;Hello, World&#8221;.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo docker run -it ubuntu echo &quot;Hello, World&quot;
</pre></div>
</div>
</div>
<div class="section" id="obtain-shell-prompt-in-docker-container">
<h3>5.4.5.1.3. Obtain Shell Prompt in Docker Container<a class="headerlink" href="#obtain-shell-prompt-in-docker-container" title="Permalink to this headline">¶</a></h3>
<p>Docker command has a sub-command <tt class="docutils literal"><span class="pre">run</span></tt> to execute containers with a few
parameters.  In this example, we use Ubuntu 14.04 image to get bash shell
prompt.</p>
<div class="highlight-python"><div class="highlight"><pre>sudo docker run -i -t ubuntu:14.04 /bin/bash
</pre></div>
</div>
<p>Expected result looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>root@8110bb395822:/#
</pre></div>
</div>
<p>Type <tt class="docutils literal"><span class="pre">exit</span></tt> to quit the shell and return to Docker host.</p>
</div>
<div class="section" id="run-apache-tomcat-server">
<h3>5.4.5.1.4. Run Apache Tomcat Server<a class="headerlink" href="#run-apache-tomcat-server" title="Permalink to this headline">¶</a></h3>
<p>It&#8217;s easy to deploy Apache Tomcat using Docker. Please run the following
command: (sudo is supressed)</p>
<div class="highlight-python"><div class="highlight"><pre>docker run -d -p 80:8080 tomcat:8.0
</pre></div>
</div>
<p>It downloads tomcat image from Docker Hub and connects 80 port to 8080 port.
So, if you open a web browser <tt class="docutils literal"><span class="pre">http://localhost</span></tt> or <tt class="docutils literal"><span class="pre">http://ip</span> <span class="pre">address</span> <span class="pre">of</span>
<span class="pre">host</span></tt> your connection forwards to the container 8080 port. <tt class="docutils literal"><span class="pre">-d</span></tt> option
daemonizes the container.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Did you see <tt class="docutils literal"><span class="pre">Unable</span> <span class="pre">to</span> <span class="pre">find</span> <span class="pre">image</span> <span class="pre">'tomcat:8.0'</span> <span class="pre">locally</span></tt>?
Your Docker will find <tt class="docutils literal"><span class="pre">tomcat</span></tt> from Docker Hub and download it to
your local.</p>
</div>
</div>
<div class="section" id="list-containers">
<h3>5.4.5.1.5. List Containers<a class="headerlink" href="#list-containers" title="Permalink to this headline">¶</a></h3>
<p>We use <tt class="docutils literal"><span class="pre">ps</span></tt> sub command to list available containers.</p>
<div class="highlight-python"><div class="highlight"><pre>docker ps
</pre></div>
</div>
<p>Expected result looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>CONTAINER ID        IMAGE                        COMMAND             CREATED             STATUS              PORTS                    NAMES
4690a7973fef        tomcat:8.0                   &quot;catalina.sh run&quot;   8 seconds ago       Up 5 seconds        0.0.0.0:8888-&gt;8080/tcp   adoring_lalande
</pre></div>
</div>
</div>
<div class="section" id="see-logs">
<h3>5.4.5.1.6. See Logs<a class="headerlink" href="#see-logs" title="Permalink to this headline">¶</a></h3>
<p>You can find out details of your container by looking at log messages. Use
<tt class="docutils literal"><span class="pre">NAMES</span></tt> from previous command.  This example we use <tt class="docutils literal"><span class="pre">adoring_lalande</span></tt> for
your tomcat:8.0 container.</p>
<div class="highlight-python"><div class="highlight"><pre>docker logs -f adoring_lalande
</pre></div>
</div>
<p>Logs look like:</p>
<div class="highlight-python"><div class="highlight"><pre>13-Feb-2015 03:02:57.524 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version:        Apache Tomcat/8.0.18
13-Feb-2015 03:02:57.526 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Jan 23 2015 11:56:07 UTC
13-Feb-2015 03:02:57.526 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server number:         8.0.18.0
13-Feb-2015 03:02:57.526 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux
13-Feb-2015 03:02:57.526 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            3.13.0-44-generic
...
</pre></div>
</div>
</div>
<div class="section" id="search-containers">
<h3>5.4.5.1.7. Search Containers<a class="headerlink" href="#search-containers" title="Permalink to this headline">¶</a></h3>
<p>If you are looking for other containers, <tt class="docutils literal"><span class="pre">search</span></tt> command is useful to find.</p>
<p>For example, try to find <tt class="docutils literal"><span class="pre">ipython</span></tt> containers.</p>
<div class="highlight-python"><div class="highlight"><pre>docker search ipython
</pre></div>
</div>
<p>Expected result looks like this:</p>
<div class="highlight-python"><div class="highlight"><pre>NAME                                DESCRIPTION                                     STARS     OFFICIAL   AUTOMATED
ipython/scipyserver                 IPython notebook server with the full SciP...   36                   [OK]
ipython/notebook                    The most recent version of IPython, config...   35                   [OK]
ipython/scipystack                                                                  10                   [OK]
...
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last"><tt class="docutils literal"><span class="pre">STARS</span></tt> indicates popular containers.</p>
</div>
</div>
<div class="section" id="stop-and-delete-container">
<h3>5.4.5.1.8. Stop and Delete Container<a class="headerlink" href="#stop-and-delete-container" title="Permalink to this headline">¶</a></h3>
<p>Like stopping and terminating a virtual instance, docker stops and deletes its
container with two commands: <tt class="docutils literal"><span class="pre">stop</span></tt> and <tt class="docutils literal"><span class="pre">rm</span></tt> We use <tt class="docutils literal"><span class="pre">NAMES</span></tt> from <tt class="docutils literal"><span class="pre">docker</span>
<span class="pre">ps</span></tt> command. This example we use <tt class="docutils literal"><span class="pre">adoring_lalande</span></tt> for your tomcat:8.0
container.</p>
<div class="highlight-python"><div class="highlight"><pre>docker stop adoring_lalande
</pre></div>
</div>
<p>After stopping the container, you can delete it.</p>
<div class="highlight-python"><div class="highlight"><pre>docker rm adoring_lalande
</pre></div>
</div>
</div>
<div class="section" id="review-docker-commands">
<h3>5.4.5.1.9. Review Docker Commands<a class="headerlink" href="#review-docker-commands" title="Permalink to this headline">¶</a></h3>
<p>We have learned some Docker commands. These are basic commands for Docker
software.</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">run</span></tt>: runs a container. <tt class="docutils literal"><span class="pre">-it</span></tt> option allows you an interactive
mode. <tt class="docutils literal"><span class="pre">-d</span></tt> option daemonizes your container.</li>
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">logs</span></tt>: displays log messages.</li>
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">ps</span></tt>: shows available containers.</li>
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">search</span></tt>: searches containers from Docker Hub.</li>
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">stop</span></tt>: stops your container.</li>
<li><tt class="docutils literal"><span class="pre">docker</span> <span class="pre">rm</span></tt>: deletes your container image.</li>
</ul>
</div>
<div class="section" id="reference">
<h3>5.4.5.1.10. Reference<a class="headerlink" href="#reference" title="Permalink to this headline">¶</a></h3>
<p>The main tutorial from Docker is here:
<a class="reference external" href="https://docs.docker.com/installation/ubuntulinux/">https://docs.docker.com/installation/ubuntulinux/</a></p>
</div>
</div>
<div class="section" id="next-step">
<h2>5.4.5.2. Next Step<a class="headerlink" href="#next-step" title="Permalink to this headline">¶</a></h2>
<p>In the next page, we deploy Cloudmesh on FutureSystems using Docker.</p>
<p><a class="reference external" href="docker_cloudmesh.html">Next Tutorial&gt;&gt; Deploying Cloudmesh using Docker</a></p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="docker_cloudmesh.html" class="btn btn-neutral float-right" title="5.4.6. Deploying Cloudmesh using Docker on FutureSystems"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ansible_cloudmesh.html" class="btn btn-neutral" title="5.4.4. Writing Ansible Playbook for Cloudmesh on FutureSystems"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, myCloudmesh.org/learning.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'Learning',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>