
Create a Cluster
================

.. code:: python

    alias cm cm %s
Use command cluster to start a cluster of VMs, and each of them can log
into all others. please refer to:

.. code:: python

    cm "cluster" 
Before start a cluster, please make sure you do the following settings
with Cloudmesh CLI:

1 select cloud to work on, e.g.

.. code:: python

    cm "cloud select india"
2 activate the cloud, e.g.

.. code:: python

    cm "cloud on india"
3 set the default key to start VMs, e.g.

.. code:: python

    cm "key default test-key"
4 set the start name of VMs, which is prefix and index, e.g.

.. code:: python

    cm "label --prefix=test --id=1"
5 set image of VMs, e.g.

.. code:: python

    cm "default image --name=futuregrid/ubuntu-14.04"
6 set flavor of VMs, e.g.

.. code:: python

    cm "default flavor --name=m1.small"
Then you may start the cluster with command 'cluster create' by
providing the following values:

| --count
|  specify amount of VMs in the cluster

| --group
|  specify a group name of the cluster, make sure it's UNIQUE

| --ln
|  login name for VMs, e.g. ubuntu

for example:

.. code:: python

    cm "cluster create --count=3 --group=test --ln=ubuntu"
You may also provide cloud name, flavor or image in the command if you
don't want to pre-set them. For example:

cm "cluster create --count=3 --group=test0 --ln=ubuntu --cloud=india
--flavor=m1.small --image=futuregrid/ubuntu-14.04"

command cluster is still under development, at this point, if you want
to list the VMs of the cluster you just created, you may use the
following command:

.. code:: python

    cm "vm list --refresh --group=test"