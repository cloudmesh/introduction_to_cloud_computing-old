
Managing Volumes with Cloudmesh ``cm``
======================================

Cloudmesh provides a command for managing volumes.

.. note: Currently, the volume command supports only openstack clouds.

IPython Alias

With the alias command we simply define a new command with the name cm
that we can call directly from IPython. Here we make sure that the
parameters are between "" so that they are properly set. Just execute
the following lines.

.. code:: python

    alias cm cm %s
We are using now one of the methods to call the cm commands in the
following sections.

Before using the volume command make sure to load the configurations by
choosing a cloud using nova command, e.g.:

.. code:: python

    cm "nova set india"

.. parsed-literal::

    india is set


for more detailed descriptions:

.. code:: python

    cm "volume"

.. parsed-literal::

    Error: Wrong Format
    
    Usage:
        volume list
        volume create <size>
                      [--snapshot-id=<snapshot-id>]
                      [--image-id=<image-id>]
                      [--display-name=<display-name>]
                      [--display-description=<display-description>]
                      [--volume-type=<volume-type>]
                      [--availability-zone=<availability-zone>]
        volume delete <volume>
        volume attach <server> <volume> <device>
        volume detach <server> <volume>
        volume show <volume>
        volume snapshot-list
        volume snapshot-create <volume-id>
                               [--force]
                               [--display-name=<display-name>]
                               [--display-description=<display-description>]
        volume snapshot-delete <snapshot>
        volume snapshot-show <snapshot>
        volume help
    
    
    volume management
    
    Arguments:
        <size>            Size of volume in GB
        <volume>          Name or ID of the volume to delete
        <volume-id>       ID of the volume to snapshot
        <server>          Name or ID of server(VM).
        <device>          Name of the device e.g. /dev/vdb. Use "auto" for 
                          autoassign (if supported)
        <snapshot>        Name or ID of the snapshot
    
    Options:
        --snapshot-id <snapshot-id>
                                Optional snapshot id to create the volume from.
                                (Default=None)
        --image-id <image-id>
                                Optional image id to create the volume from.
                                (Default=None)
        --display-name <display-name>
                                Optional volume name. (Default=None)
        --display-description <display-description>
                                Optional volume description. (Default=None)
        --volume-type <volume-type>
                                Optional volume type. (Default=None)
        --availability-zone <availability-zone>
                                Optional Availability Zone for volume. (Default=None)
        --force                 Optional flag to indicate whether to snapshot a volume
                                even if its attached to an instance. (Default=False)
    
    Description:
        volume list
            List all the volumes
        volume create <size> [options...]
            Add a new volume
        volume delete <volume>
            Remove a volume   
        volume attach <server> <volume> <device>
            Attach a volume to a server    
        volume-detach <server> <volume>
            Detach a volume from a server
        volume show <volume>        
            Show details about a volume
        volume snapshot-list
            List all the snapshots
        volume snapshot-create <volume-id> [options...]
            Add a new snapshot
        volume snapshot-delete <snapshot>
            Remove a snapshot
        volume-snapshot-show <snapshot>
            Show details about a snapshot
        volume help 
            Prints the nova manual
    
    

