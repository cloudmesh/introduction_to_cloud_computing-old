

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>7.3.7. Managing multiple VMs with Cloudmesh cm &mdash; my Cloudmesh Learning documentation</title>
  

  
  

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
        <link rel="author" title="About these documents"
              href="../../about.html"/>
    <link rel="top" title="my Cloudmesh Learning documentation" href="../../index.html"/>
        <link rel="up" title="7.3. Cloudmesh cm" href="index.html"/>
        <link rel="next" title="7.3.8. Managing Volumes with Cloudmesh cm" href="_cm-volume.html"/>
        <link rel="prev" title="7.3.6. Deploying Virtual Cluster with Cloudmesh cm" href="_cm-cluster.html"/> 

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.6.2/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        <a href="../../index.html" class="fa fa-home"> my Cloudmesh</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
        
            <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../preface.html">1. Preface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preface.html#conventions">1.1. Conventions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preface.html#using-the-notebooks">1.2. Using the Notebooks</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">2. About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#independent-study-at-iu">2.1. Independent Study at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#student-employment-at-iu">2.2. Student Employment at IU</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about.html#contributing-to-the-manual">2.3. Contributing to the Manual</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">3. Contact</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contact.html#contributors">3.1. Contributors</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contact.html#support">3.2. Support</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">4. Resources from the Internet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../class/index.html">5. Cloudmesh in Classes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../class/i590.html">5.1. Class: Info I590</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../class/cm-mooc.html">5.2. Cloudmesh MOOC Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../class/javafiles.html">5.3. JavaFiles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../class/vc2_sp15/index.html">5.4. BigData Virtual Cluster (Spring 2015)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../class/vc_sp15/index.html">5.5. IU Spring 2015</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../class/lessons.html">5.6. Lessons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../accounts/index.html">6. Cloud Accounts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../accounts/accounts.html">6.1. Creating FutureSystems Accounts and Projects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../accounts/details.html">6.2. Account and Project Management</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">7. Cloudmesh</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../overview.html">7.1. Cloudmesh Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../setup/index.html">7.2. Cloudmesh Setup</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">7.3. Cloudmesh cm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/index.html">7.4. Cloudmesh API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../shell/index.html">7.5. Cloudmesh Shell</a></li>
<li class="toctree-l2"><a class="reference internal" href="../gui/index.html">7.6. Cloudmesh GUI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../faq.html">7.7. Cloudmesh FAQ</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../parallel.html">8. Parallel Shell</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#parallel-distributed-shell-pdsh">8.1. Parallel Distributed Shell (pdsh)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#fabric">8.2. Fabric</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#cloudmesh-parallel-api">8.3. Cloudmesh Parallel API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../parallel.html#exercises">8.4. Exercises</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../iaas/index.html">9. IaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../iaas/index.html#openstack-clouds">9.1. OpenStack Clouds</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../paas/index.html">10. PaaS</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../paas/hadoop.html">10.1. Using Hadoop in FutureSystems</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../paas/hadoop-setup.html">10.2. Deploying a Hadoop Cluster on India OpenStack</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hpc/index.html">11. HPC</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hpc/hpc.html">11.1. HPC</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hardware/index.html">12. Hardware</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../hardware/indiana.html">12.1. Hardware at Indiana University</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../devops/index.html">13. DevOps</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../devops/history.html">13.1. Historical and Functionality Perspective</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/makefile.html">13.2. Makefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/shell.html">13.3. Shell Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/configure.html">13.4. Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../devops/rpm.html">13.5. Package Managers</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../ipython/index.html">14. IPython</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../ipython/_ipython.html">14.1. IPython</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rst.html">15. reStructuredText</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#sections">15.1. Sections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#listtable">15.2. Listtable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#exceltable">15.3. Exceltable</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#boxes">15.4. Boxes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#sidebar-directive">15.5. Sidebar directive</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#autorun">15.6. Autorun</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#hyperlinks">15.7. Hyperlinks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../rst.html#todo">15.8. Todo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../management/index.html">16. Create Cloudmesh Development Image</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../management/create_image.html">16.1. How to setup a Cloudmesh Image</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">17. Contribute to Cloudmesh</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contribute/python-programming-style.html">17.1. How to write good Python codes for Cloudmesh</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../todo.html">18. ToDos</a></li>
</ul>

        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">my Cloudmesh</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">7. Cloudmesh</a> &raquo;</li>
      
          <li><a href="index.html">7.3. Cloudmesh cm</a> &raquo;</li>
      
    <li>7.3.7. Managing multiple VMs with Cloudmesh cm</li>
      <li class="wy-breadcrumbs-aside">
        
          <a href="../../_sources/cloudmesh/cm/_cm-group.txt" rel="nofollow"> View page source</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            
  <div class="section" id="managing-multiple-vms-with-cloudmesh-cm">
<h1>7.3.7. Managing multiple VMs with Cloudmesh cm<a class="headerlink" href="#managing-multiple-vms-with-cloudmesh-cm" title="Permalink to this headline">¶</a></h1>
<p>When you start a cluster of VMs in Cloudmesh CLI, it is required to
specify a group name for the cluster, so that we can manage the cluster
according to the cluster name. In Cloudmesh CLI, you may use group
command to manage groups.</p>
<p>IPython Alias</p>
<p>With the alias command we simply define a new command with the name cm
that we can call directly from IPython. Here we make sure that the
parameters are between &#8220;&#8221; so that they are properly set. Just execute
the following lines.</p>
<div class="code python highlight-python"><div class="highlight"><pre>alias cm cm %s
</pre></div>
</div>
<p>We are using now one of the methods to call the cm commands in the
following sections.</p>
<div class="section" id="group-command">
<h2>7.3.7.1. <tt class="docutils literal"><span class="pre">group</span></tt> command<a class="headerlink" href="#group-command" title="Permalink to this headline">¶</a></h2>
<p>The <tt class="docutils literal"><span class="pre">group</span></tt> allows us to perform simple grouping of VMs but also
images and flavors. A group is essentially a tuple in which you can add
to a named group a type of an object and its unique name. The group
command allows you to create a group, add items to groups, and list
groups. For more information, one can refer to the manual page.</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group -h&quot;
</pre></div>
</div>
<p>To create a group with the name sample-group you can use the command:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group create sample-group&quot;
</pre></div>
</div>
<p>Then you can list the groups with:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group list&quot;
</pre></div>
</div>
<p>To add a VM named sample-vm to the group (make sure the VM exists before
add it), you can use:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group add item sample-group vm sample-vm&quot;
</pre></div>
</div>
<p>To list the elements in a group you can use:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group show sample-group&quot;
</pre></div>
</div>
<p>To delete a VM from a group you can use:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group remove item sample-group vm sample-vm&quot;
</pre></div>
</div>
<p>To delete a group:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;group remove sample-group&quot;
</pre></div>
</div>
<p>Please note that deletion of a group does not delete the accociated
objects in that group. It only removes the object that stores the types
and objects for that group.</p>
</div>
<div class="section" id="working-with-group">
<h2>7.3.7.2. Working with group<a class="headerlink" href="#working-with-group" title="Permalink to this headline">¶</a></h2>
<p>Groups are conveniently integrated into the cloudmesh shell. You may
include a VM into a group while you create it, delete VMs by groups and
when you create a cluster, a group name has to be provided.</p>
<p>To start a VM and add it to group, you can use the group parameter. If
the group doesn&#8217;t exist, one will be created:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;vm start --group=sample&quot;
</pre></div>
</div>
<p>To delete the virtual machines specified in a group you can use the
command:</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;vm delete --group=sample&quot;
</pre></div>
</div>
<p>To create multiple vms that are part of a vitual cluster, you need to
provide a group name. If the group doesn&#8217;t exist, one will be created.
If the group exist and it has VMs in it already, the newly created
virtual machines will be included into the cluster. The following
example will create two virtual machines while assuming the default
cloud, flavor, and image. Make sure you set them before if they have not
been set.</p>
<div class="code python highlight-python"><div class="highlight"><pre>cm &quot;cluster create --count=2 --group=sample&quot;
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="_cm-volume.html" class="btn btn-neutral float-right" title="7.3.8. Managing Volumes with Cloudmesh cm"/>Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="_cm-cluster.html" class="btn btn-neutral" title="7.3.6. Deploying Virtual Cluster with Cloudmesh cm"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2013, myCloudmesh.org/learning.
    </p>
  </div>

  <a href="https://github.com/snide/sphinx_rtd_theme">Sphinx theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>
</footer>
        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'Learning',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>